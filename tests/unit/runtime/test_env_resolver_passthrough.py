"""Tests for ldk.runtime.env_resolver (P1-05)."""

from __future__ import annotations

from lws.runtime.env_resolver import resolve_env_vars

# ---------------------------------------------------------------------------
# Plain string passthrough
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Ref resolution
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Fn::GetAtt resolution
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Fn::Join resolution
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Fn::Sub resolution
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Fn::Select resolution
# ---------------------------------------------------------------------------


# ---------------------------------------------------------------------------
# Mixed / integration
# ---------------------------------------------------------------------------


class TestPassthrough:
    """Plain string values are passed through unchanged."""

    def test_plain_strings_unchanged(self) -> None:
        env = {"MY_VAR": "hello", "OTHER": "world"}
        result = resolve_env_vars(env, resource_registry={})
        assert result == {"MY_VAR": "hello", "OTHER": "world"}

    def test_empty_env(self) -> None:
        result = resolve_env_vars({}, resource_registry={})
        assert result == {}
